;
; Window3D library documentation
;
; (c) Fantaisie Software
;

@Library Window3D

@Overview

  La bibliothèque Window3D permet de créer 
  des interfaces graphiques complexes (GUI) 
  dans un environnement 3D.
  Elle est principalement destinée à la 
  création de jeux ou d'applications qui
  doivent se lancer en mode plein écran et 
  qui nécessitent une interface utilisateur.
@LineBreak 
  La syntaxe de cette bibliothèque est 
  similaire à la bibliothèque 
  @LibraryLink "window" "Window".
@LineBreak 
  Le moteur utilisé pour l'interface graphique 
  se nomme CEGUI, il permet l'utilisation 
  de skins, il est rapide et contient de 
  nombreux gadgets prédéfinis. Vous trouverez 
  plus d'informations au sujet de CEGUI ici : 
  @InternetLink "http://www.cegui.org.uk" "http://www.cegui.org.uk".
@LineBreak
@LineBreak
  @@InitEngine3D doit être appelé avec succès 
  avant de pouvoir utiliser les commandes 
  relatives aux fenêtres 3D.
@LineBreak
@LineBreak
  Pour utiliser les fenêtres 3D, une 
  @Link "Camera/CreateCamera" "caméra" doit 
  être créée au préalable.

@CommandList

@ExampleFile All Window3D.pb

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function CloseWindow3D(#Fenetre3D)

@Description
  Ferme une fenêtre 3D. 
 
@Parameter "#Fenetre3D"
  La fenêtre 3D à fermer.
@LineBreak  
@LineBreak  
  Si @#PB_All est spécifié, toutes les 
  fenêtres 3D restantes sont fermées.

@NoReturnValue

@Remarks  
  Toutes les fenêtres restant ouvertes sont 
  automatiquement fermées quand le programme 
  se termine.

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function DisableWindow3D(#Fenetre3D, Etat)


@Description
  Active ou désactive les interactions de 
  l'utilisateur avec une fenêtre 3D.
 
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser.
  
@Parameter "Etat"  
  Peut prendre une des valeurs suivantes:
@FixedFont
  @#True : La fenêtre 3D est désactivée.
  @#False: La fenêtre 3D est activée.
@EndFixedFont 

@NoReturnValue
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = EventGadget3D()

@Description
  Utiliser cette fonction après un évènement 
  de type @#PB_Event3D_Gadget (renvoyé par 
  @@WindowEvent3D) pour connaitre le numéro 
  du gadget qui a été utilisé. 

@NoParameters

@ReturnValue
  Le numéro du gadget 3D qui a été utilisé.

@SeeAlso
  @@WindowEvent3D

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = EventType3D() 

@Description
  Utiliser cette fonction après @@WindowEvent3D 
  pour savoir quel est le type du dernier 
  évènement survenu. 
  
@NoParameters
  
@ReturnValue    
  Les valeurs suivantes sont possibles 
  lorsqu'un évènement du type 
  @#PB_Event3D_Gadget (bibliothèque 
  @LibraryLink "Gadget3D" "Gadget3D") 
  survient:
@FixedFont
  @#PB_EventType3D_Focus           : Obtention du focus.
  @#PB_EventType3D_LostFocus       : Perte du focus.
  @#PB_EventType3D_Change          : Le contenu a changé.
@EndFixedFont  

  Peut être utilisé avec les gadgets suivants :
@LineBreak
@LineBreak
  - @@SpinGadget3D @LineBreak
  - @@StringGadget3D @LineBreak
@LineBreak  
  (Voir la définition du gadget pour connaître 
  les évènements valides)

@SeeAlso
  @@WindowEvent3D

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = EventWindow3D()

@Description
  Utiliser cette fonction après @@WindowEvent3D 
  pour savoir sur quelle fenêtre s'est produit 
  le dernier évènement.

@NoParameters

@ReturnValue
  Renvoie le numéro de la fenêtre 3D où s'est 
  produit le dernier évènement.

@SupportedOS

;--------------------------------------------------------------------------------------------------------
@Function InputEvent3D(SourisX, SourisY, BoutonGaucheSouris, [, Texte$, ToucheSpeciale]) 

@Description
  Injecte des événements dans l'interface graphique 3D (GUI). 
  
@Parameter "SourisX, SourisY"
  La position de la souris sur l'interface 3D, en pixels.

@Parameter "BoutonGaucheSouris"
  L'état du bouton gauche de la souris 
@FixedFont
  0 : Bouton relâché. 
  1 : Bouton pressé.
@EndFixedFont

@OptionalParameter "Texte$"
  Le texte injecté dans l'interface graphique, par exemple pour alimenter un 
  @@StringGadget3D. 

@OptionalParameter "ToucheSpeciale"
  Touche muette du clavier injectée dans le 
  système de l'interface graphique, par 
  exemple pour gérer le Retour Arrière 
  (Backspace), Entrée ou Retour Chariot 
  (Enter) et autres.@LineBreak
  Les touches spéciales disponibles sont:
@FixedFont
  @#PB_Key_Back  : Retour arrière
  @#PB_Key_Delete: Supprimer
  @#PB_Key_Return: Entrée
  @#PB_Key_Up    : Flèche haut
  @#PB_Key_Down  : Flèche bas
  @#PB_Key_Left  : Flèche gauche
  @#PB_Key_Right : Flèche droite
@EndFixedFont 

@NoReturnValue

@Remarks
  Cette fonction est nécessaire pour que @@WindowEvent3D fonctionne.
@LineBreak
@LineBreak
  Pour plus de souplesse, les événements ne sont pas obtenus automatiquement à 
  partir de la souris et du clavier, mais injectés à la demande.

@Example
@Code
  ; Voici une utilisation classique pour renseigner les événements de la souris et du clavier
  ;
  InputEvent3D(MouseX(), MouseY(), MouseButton(#PB_MouseButton_Left, Input$, 0)
@EndCode

@SeeAlso
  @@WindowEvent3D, @@Add3DArchive, @@MousePick

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = GetActiveWindow3D()

@Description
  Renvoie le numéro de la fenêtre 3D qui est 
  actuellement active (qui a le 'focus').

@NoParameters

@ReturnValue
  Renvoie le numéro de la fenêtre 3D qui a 
  le 'focus' clavier ou -1 sinon.

@Remarks
  Une fenêtre peut être activée avec la 
  commande @@SetActiveWindow3D.

@SeeAlso
  @@SetActiveWindow3D

@SupportedOS
;--------------------------------------------------------------------------------------------------------


@Function Resultat$ = GetWindowTitle3D(#Fenetre3D) 

@Description
  Renvoie le texte de la barre de titre
  d'une fenêtre 3D.

@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser.

@ReturnValue
  Renvoie le texte affiché dans la barre 
  de titre de la fenêtre 3D spécifiée.

@Remarks
  Le titre de la fenêtre est modifiable 
  avec la commande  @@SetWindowTitle3D.

@SeeAlso
  @@SetWindowTitle3D

@SupportedOS  

;--------------------------------------------------------------------------------------------------------

@Function HideWindow3D(#Fenetre3D, Etat) 

@Description
  Affiche ou cache une fenêtre 3D.

@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser.
   
@Parameter "Etat"  
  Peut prendre une des valeurs suivantes:
@FixedFont
  @#True : La fenêtre 3D est cachée.
  @#False: La fenêtre 3D est rendue visible.
@EndFixedFont 

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = IsWindow3D(#Fenetre3D)

@Description
  Teste si une fenêtre 3D est correctement 
  initialisée. 
  
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser.  

@ReturnValue
  Renvoie une valeur non nulle si la 
  fenêtre 3D est valide, zéro sinon.

@Remarks  
  Cette fonction a été créée pour pouvoir 
  passer n'importe quelle valeur en paramètre 
  sans qu'il ne puisse y avoir de plantage. 
  C'est la fonction idéale pour vérifier qu'un
  objet est correctement initialisé.

@SeeAlso
  @@OpenWindow3D
    
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = OpenWindow3D(#Fenetre3D, X, Y, LargeurInterne, HauteurInterne, Titre$ [, Options])

@Description
  Ouvre une nouvelle fenêtre 3D.
 
@Parameter "#Fenetre3D"
  Le numéro d'identification de la fenêtre 3D. 
@LineBreak
@LineBreak  
  @ReferenceLink "purebasic_objects" "#PB_Any" 
  peut être utilisé pour autogénérer ce numéro.

@Parameter "X, Y"
  La position initiale de la fenêtre 3D dans 
  l'écran (sauf si l'une des options de 
  centrage est utilisée).

@Parameter "LargeurInterne, HauteurInterne"
  Taille initiale de la zone client de la 
  fenêtre 3D (sans bordure ni barre de titre...).

@Parameter "Titre$"  
  Le titre de la fenêtre 3D.
  
@OptionalParameter "Options"
  Peut être une combination de:
@FixedFont
  @#PB_Window3D_SizeGadget     : Redimensionnement de la fenêtre 3D.
  @#PB_Window3D_Invisible      : Crée la fenêtre 3D mais ne l'affiche pas. 
  @#PB_Window3D_BorderLess     : Crée une fenêtre 3D sans bordures. 
@EndFixedFont  
  
@ReturnValue
  Renvoie une valeur non nulle si la fenêtre 
  3D est ouverte dans 
  l'@Link "Screen/OpenScreen" "écran" 
  en cours, zéro sinon.

@Remarks  
  La nouvelle fenêtre 3D devient la fenêtre 
  active sans avoir besoin d'utiliser 
  @@SetActiveWindow3D (sauf si elle a été 
  créée en mode invisible).
@LineBreak
@LineBreak
  Tous les évènements possibles des fenêtres 
  3D sont gérés par la commande @@WindowEvent3D.
 
@SeeAlso
  @@CloseWindow3D, @@WindowEvent3D

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function ResizeWindow3D(#Fenetre3D, X, Y, Largeur, Hauteur)

@Description
  Déplace et redimensionne une fenêtre 3D.
 
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser. 
  
@Parameter "X, Y"  
  La nouvelle position de la fenêtre 3D.
@LineBreak
@LineBreak 
  @#PB_Ignore peut être utilisée pour 
  laisser un paramètre inchangé.

@Parameter "Largeur, Hauteur"  
  Les nouvelles dimensions de la fenêtre 3D.
@LineBreak
@LineBreak 
  @#PB_Ignore peut être utilisée pour 
  laisser un paramètre inchangé.

@NoReturnValue

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function SetActiveWindow3D(#Fenetre3D)

@Description
  Active une fenêtre 3D, elle obtient le 
  'focus'.
  
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser. 
  
@NoReturnValue

@SeeAlso
  @@GetActiveWindow3D
   
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function SetWindowTitle3D(#Fenetre3D, Titre$) 

@Description
  Change le texte de la barre de titre 
  d'une fenêtre 3D.
  
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser. 
  
@Parameter "Titre$"
  Le nouveau titre.

@NoReturnValue

@SeeAlso
  @@GetWindowTitle3D
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = WindowEvent3D()

@Description
  Teste si un évènement s'est produit 
  sur chacune des fenêtres 3D.

@NoParameters

@ReturnValue
  Les évènements possibles sont :
@FixedFont
  @#PB_Event3D_Gadget         : Un @LibraryLink "gadget3d" "Gadget3D" a été utilisé
  @#PB_Event3D_CloseWindow    : L'icône de fermeture de fenêtre a été cliquée
  @#PB_Event3D_SizeWindow     : La fenêtre a été redimensionnée
  @#PB_Event3D_MoveWindow     : La fenêtre a été déplacée
  @#PB_Event3D_ActivateWindow : La fenêtre a été activée (gain du focus)
@EndFixedFont

@Remarks
  @@InputEvent3D doit être utilisé pour envoyer des événements au système 
  d'interface graphique 3D et pour pouvoir avoir accès aux évènements provenant 
  de la fenêtre.
@LineBreak
@LineBreak
  Cette fonction est à retour immédiat, elle renvoie le prochain événement 
  de la file d'attente ou zéro s'il n'y en a plus.@LineBreak
  Elle n'attend pas pour le prochain évènement. 
@LineBreak
@LineBreak
  Pour obtenir le numéro de fenêtre où s'est produit l'évènement, utiliser la 
  fonction @@EventWindow3D. 

@SeeAlso
  @@EventWindow3D, @@InputEvent3D

@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = WindowHeight3D(#Fenetre3D)

@Description 
  Renvoie la hauteur d'une fenêtre 3D.
  
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser. 

@ReturnValue
  Renvoie la hauteur en pixels de la fenêtre 
  3D spécifiée.

@SeeAlso
  @@WindowWidth3D
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function WindowID3D = WindowID3D(#Fenetre3D) 

@Description
  Renvoie l'identifiant unique d'une fenêtre 3D.
 
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser. 

@ReturnValue
  Renvoie l'identifiant unique de la fenêtre 3D 
  spécifiée, dans le système d'exploitation. 
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = WindowWidth3D(#Fenetre3D)  

@Description 
  Renvoie la largeur d'une fenêtre 3D.
  
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser. 

@ReturnValue
  Renvoie la largeur en pixels de la fenêtre 
  3D spécifiée.

@SeeAlso
  @@WindowHeight3D
 
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = WindowX3D(#Fenetre3D)

@Description
  Renvoie la position en 'X' (par rapport 
  au bord gauche d'un écran) d'une fenêtre 3D. 
  
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser. 

@ReturnValue
 Renvoie la position gauche de la fenêtre 3D 
 spécifiée, en pixels. 
  
@SeeAlso
  @@WindowY3D
  
@SupportedOS

;--------------------------------------------------------------------------------------------------------

@Function Resultat = WindowY3D(#Fenetre3D)  

@Description
  Renvoie la position en 'Y' (par rapport 
  au bord supérieur d'un écran) d'une fenêtre 
  3D. 
  
@Parameter "#Fenetre3D"
  La fenêtre 3D à utiliser. 

@ReturnValue
 Renvoie la position supérieure de la fenêtre 
 3D spécifiée, en pixels. 
  
@SeeAlso
  @@WindowX3D

@SupportedOS